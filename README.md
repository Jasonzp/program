# 个人通讯管理系统
## 功能实现
（1）提供录入个人信息、修改个人信息（姓名和出生日期除外）、删除个人信息等编辑功能  
（2）提供按姓名查询个人信息的功能  
（3）提供查找在5天之内过生日的人员的信息，以便发出祝贺电话或 E_mail   
（4）按照姓名或出生日期排序，显示输出  
（5）统计在给定月份出生的人数，并显示输出  
（6）能列出全体人员的姓名、出生日期、电话和email地址  
（7）能分别列出同学、同事、朋友、亲戚的所有信息  
（8）用菜单形式提供程序的各种功能的选择
## 具体内容
 笔者设计的程序在每一层基础上都有相应的操作提示，可以说达到简明扼要的提示特点，只要按照文字提示进行操作，就不会有错误。
### 1.程序逻辑
首先介绍一下笔者编写程序的逻辑：
笔者采用了分文件编写的方式，将整个C++c程序分文件编写，实现编写界面的美观合理，为以后大型程序开发奠定了基础，这是这个程序的亮点之一。
### 2.类的设计
在类的设计方面，此程序将People设计为基类（抽象性），并在其设计函数时，为其设计了封装函数，完成了两个基本特性：封装性和抽象性这两个基本特性的开发，然后分别设计Classmate类、Friend类、Relative类、Colleague类对People类进行公有继承，完成整个程序的类的继承的搭建。此外，本程序还有一个亮点，就是将通讯录的成员生日由抽象成BornDate类，此类包含于People类，实现了类的包含。
此外，在程序的设计方面，笔者重点运用了“抽象类或者基类的指针可以指向派生类”这一关键知识点，首先在main函数中建立抽象类的指针数组，作为储存各个通讯录的用户信息的仓库，然后通过new的方式创建匿名对象的方法，将我们创建的通讯录对象的地址储存在抽象类的指针数组，此为AddressBook通讯录。
### 3.函数设计
在函数方面，运用继承的便利性，在基类定义很多派生类用得到的函数，完美地利用了继承的便利性，在各自的派生类中则定义了自己特有的函数，以及对virtual虚函数的补充说明，如上图所示，这里就不一一赘述。
在主函数中的main函数中，笔者使用流程控制语句switch语句，使得过程更加简单明了，通过case的选择，载入不同的函数实现相应的功能，如上图为main函数的编写，而上图第三张图则分别是实现相应功能，使得程序看起来简洁；此外，为了满足题目要求，我们还分别定义了三个函数：
```//构建txt通讯录原本的环境
void BuildFileEnvironment();
//生成祝贺文本,并写入相应的txt文件
void Congratulate(People* p);
//将生日日期转换成星期
void CaculateWeekDay(People* p);
//运用相应的算法完成排序、期转换等功能。
```
### 4.功能设计
在设计功能的方面，通过对指针数组People*Addressbook的操作，即可完成大多数的功能，笔者的程序在结束时一定要按下“0”，这样才能保存到相应的txt文件中，而“0”相当于是通讯录的一个保存键，一旦按下就会建立起流对象，将Addressbook的信息写入相应的txt稳健当中，这是这个程序中要强调的一点。（程序优美的设计页面如上图所示）
switch语句当选择case1时，将会调用OtherFunction.cpp文件中的addPerson（）函数，通过new语句，在堆区开辟一个匿名对象，存入相应的数据。  
当选择case2时，会调用ChangeFunction（）实现修改联系人的功能，此时根据指针数组的成员指针指向的type不同调用不同的成员函数ChangeFunction（），此ChangeFunction（）是类中的成员函数(如上右图)  
当选择case3时，会调用deletePerson（）这个函数，通过将选定的联系人的指针对象delete【置空NULL】，再将后面的联系人依次前移，实现对通讯录成员的修改。  
当选择case4时，调用FindFunction（）实现查询功能，查询功能又分为两个子菜单，按照姓名查询和按照5天之内过生日的人员查询;在实现查询过生日功能的里又包含了
Congratulate（）函数，生成祝福语，和CalculateWeekDay()函数，此函数里利用基姆拉尔森计算公式将年月日的日期，转换为星期，算法如下：基姆拉尔森计算公式：
$ W=(d+2*m+3*(m+1)/5+y+y/4-y/100+y/400+1) mod 7 $  
选择case5，则是调用ShowFunction（）按照不同的类型执行相应任务【1--按联系人类型显示\t2--按出生日期排序显示\t3--按指定月份显示】，在排序方面主要运用了冒泡排序的方法：
冒泡排序的代码由笔者自己再次封装成一个函数。  
Case6:则是将相应的标志tag设置成1，使得即使按下case0也不会启动流对象，将Addressbook中的内容写进文件中，实现一键清空的作用。  
Case0：当tag=0时，启动流对象将相应的数据写入文本对象。
此外程序还创新加入防止输错指令的选项，一旦用户没有选择正确的指令，那么就无法实现相应的功能。
### 其他设计
实验程序遵循的是输入指令型，即需要输入相应的数字完成相应的功能，通俗易懂，优美。



